(function() {
  "use strict";
  var exports, jsonConcat;

  jsonConcat = require("./json-concat");

  exports = module.exports = function() {
    var options;
    if (process.argv.length === 2) {
      return process.stdout.write("\nUsage: json-concat file1.json file2.json dir1 dir2 ... output.json\n\n");
    } else if (process.argv.length === 3) {
      process.stderr.write("\nNo need to concatenate\n\n");
      return process.exit(1);
    } else {
      options = {};
      options.src = process.argv.slice();
      options.src.shift();
      options.src.shift();
      options.dest = options.src.pop();
      return jsonConcat(options, function(err, json) {
        if (err) {
          process.stderr.write("Error occurred: %s", err);
          return process.exit(1);
        }
      });
    }
  };

}).call(this);
